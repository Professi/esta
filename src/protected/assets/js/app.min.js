!function(t){t(document).ready(function(){function e(){t("#lockAt_value").val(t('input[id$="_lockAt"]')[0].value+" "+t('input[id$="_lockAt"]')[1].value)}if(t(document).foundation(),t("#LoginForm_email").focus(),t(".js_show").toggle(),t(".js_hide").toggle(),t("#language-selector").parent().clone().appendTo(t(".top-bar .left")),t(document).keyup(function(e){27===e.keyCode&&t(".ul-nav-toggle").click()}),t(".sticky").append(t("<i/>",{"class":"fi-zoom-out ul-nav-toggle"})),t(".ul-nav li").click(function(){0===t(this).find("#language-selector").length&&(window.location=t(this).find("a").attr("href"))}),t(".ul-nav-toggle").click(function(){var e=t(this);e.toggleClass("fi-zoom-out fi-zoom-in"),e.siblings("ul").toggleClass("ul-nav ul-nav-hide")}),t("#teacher-ac").on("autocompleteselect",function(t,e){t.preventDefault(),window.location.href="index.php?r=Appointment/makeAppointment&teacher="+e.item.value}),t("#teacher-ac").on("autocompletefocus",function(t){t.preventDefault()}),t(".avaiable").css("cursor","pointer"),t(".appointment-create-table .avaiable").click(function(){var e=t(this);t("#form_date").val(e.parents("table").data("date")),t("#form_time").val(e.siblings().text().trim()),t('select[name*="dateAndTime_id"]').select2("val",e.data("id"))}),t(".delete-children").click(function(){return confirm("Wenn Sie dieses Kind löschen werden auch alle Termine des Kindes gelöscht.")?void 0:!1}),t(".delete-appointment").click(function(){return confirm("Termin wirklich löschen?")?void 0:!1}),t(".infolabel").each(function(){t(this).append(t("<i/>",{"class":"fi-info"}))}),t(".infofeld").on({mouseenter:function(){t(".infobox").show(),t(".infobox").children("p").html(t(this).siblings(".infotext").html()),t(".infobox").css("left",t(document).width()/2-200),t(".infobox").css("top",t(window).height()/4)},mouseleave:function(){var e=t(event.toElement),n=t(".infobox").get(0);n===e.get(0)||t.contains(n,e)?t(n).one("mouseleave",function(){t(n).fadeOut("fast")}):t(n).fadeOut("fast")}}),""!==t("#lockAt_value").val()&&"string"==typeof t("#lockAt_value").val()){var n=t("#lockAt_value").val(),a=n.split(" ");t("#date_lockAt").val(a[0]),t("#time_lockAt").val(a[1])}t("#User_role").on("change",function(e){e.val>1?t("#groups-select").select2("enable",!0):(t("#groups-select").select2("enable",!1),t("#groups-select").select2("val",""))}),t('select[id$="_allowBlockingAppointments"], select[id$="_banUsers"], select[id$="_mailsActivated"]').on("change",function(e){var n="0"===e.target.value?!0:!1;t(e.target).parents("fieldset").children(".row:gt(0)").children(".small-4").children("input, select").attr("disabled",n)}),t('select[id$="_randomTeacherPassword"]').on("change",function(e){var n="0"===e.target.value?!1:!0;t('input[id$="_defaultTeacherPassword"]').attr("disabled",n)}),t('input[id$="_dateFormat"], input[id$="_timeFormat"]').on("change",function(){t("#ConfigForm_dateTimeFormat").val(t('input[id$="_dateFormat"]').val()+" "+t('input[id$="_timeFormat"]').val())}),t('input[id$="_lockAt"]').on({change:function(){e()},keyup:function(){e()}}),t('input[id$="_display"]').on("autocompletefocus",function(t){t.preventDefault()}),t('input[id$="_teacher"]').on("autocompletefocus",function(t){t.preventDefault()}),t("#appointment_parent").on("autocompletefocus",function(t){t.preventDefault()}),t('input[id$="_display"]').on("autocompleteselect",function(e,n){e.preventDefault(),t(this).val(n.item.label),t(this).nextAll("input").val(n.item.value)}),t("#appointment_teacher").on("autocompleteselect",function(e,n){e.preventDefault(),t(this).val(n.item.label),t(this).nextAll("input").val(n.item.value),t.get("index.php/?r=appointment/getteacherappointmentsajax",{teacherId:n.item.value,classname:"Appointment"},function(e){t("#appointment_dateAndTime_select").html(e),t("#appointment_dateAndTime_select").children("select").select2()},"json")}),t("#appointmentBlock_teacher").on("autocompleteselect",function(e,n){e.preventDefault(),t(this).val(n.item.label),t(this).nextAll("input").val(n.item.value),t.get("index.php/?r=appointment/getteacherappointmentsajax",{teacherId:n.item.value,classname:"BlockedAppointment"},function(e){t("#appointment_dateAndTime_select").html(e),t("#appointment_dateAndTime_select").children("select").select2()},"json")}),t("#appointment_parent").on("autocompleteselect",function(e,n){e.preventDefault(),t(this).val(n.item.label),t.get("index.php/?r=appointment/getselectchildrenajax",{id:n.item.value},function(e){t("#appointment_parent_select").html(e),t("#appointment_parent_select").children("select").select2()},"json")})});var e=0;t(".add-child-tan").click(function(){e++;var n=t(".customChild:first").clone();t(n).children().each(function(){var n=t(this).find("input"),a=!1;n.hasClass("select2-focusser")&&(n=t(this).find("select"),a=!0),0!==n.length&&(t(n).attr("name",t(n).attr("name").replace(/\d/,e)),t(n).attr("id",t(n).attr("id").replace(/\d/,e)),t(n).val("")),a&&(t(n).attr("tabindex",""),t(n).attr("class",""),t(this).children(".small-9").html(n))}),t(".customChild:last").after(t(n)),t(n).find("select").select2()})}(jQuery);
