(function(e,t,n){function r(){var e=false;if(t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")||t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape","1.0")){e=true}return e}function i(e){e.preventDefault()}function s(){n("#lockAt_value").val(n('input[id$="_lockAt"]')[0]["value"]+" "+n('input[id$="_lockAt"]')[1]["value"])}n('input[id$="_display"]').on("autocompletefocus",function(e){i(e)});n('input[id$="_display"]').on("autocompleteselect",function(e,t){i(e);n(this).val(t.item.label);n(this).nextAll("input").val(t.item.value)});n("#appointment_teacher").on("autocompleteselect",function(e,t){i(e);n(this).val(t.item.label);n(this).nextAll("input").val(t.item.value);n.get("index.php/?r=appointment/getteacherappointmentsajax",{teacherId:t.item.value,classname:"Appointment"},function(e){n("#appointment_dateAndTime_select").html(e);n("#appointment_dateAndTime_select").children("select").select2()},"json")});n("#appointmentBlock_teacher").on("autocompleteselect",function(e,t){i(e);n(this).val(t.item.label);n(this).nextAll("input").val(t.item.value);n.get("index.php/?r=appointment/getteacherappointmentsajax",{teacherId:t.item.value,classname:"BlockedAppointment"},function(e){n("#appointment_dateAndTime_select").html(e);n("#appointment_dateAndTime_select").children("select").select2()},"json")});n('input[id$="_teacher"]').on("autocompletefocus",function(e){i(e)});n("#appointment_parent").on("autocompleteselect",function(e,t){i(e);n(this).val(t.item.label);n.get("index.php/?r=appointment/getselectchildrenajax",{id:t.item.value},function(e){n("#appointment_parent_select").html(e);n("#appointment_parent_select").children("select").select2()},"json")});n("#appointment_parent").on("autocompletefocus",function(e){i(e)});n("#red-button").on("click",function(t){i(t);$answer=confirm("Alles löschen?");if($answer){e.location.href="index.php?r=user/deleteAll"}});n('input[id$="_lockAt"]').on({change:function(){s()},keyup:function(){s()}});n('input[id$="_dateFormat"], input[id$="_timeFormat"]').on("keyup",function(){n("#ConfigForm_dateTimeFormat").val(n('input[id$="_dateFormat"]').val()+" "+n('input[id$="_timeFormat"]').val())});n('select[id$="_allowBlockingAppointments"], select[id$="_banUsers"], select[id$="_mailsActivated"]').on("change",function(e){$switch=e.target["value"]==="0"?true:false;n(e.target).parents("fieldset").children(".row:gt(0)").children(".four").children("input, select").attr("disabled",$switch)});n('select[id$="_randomTeacherPassword"]').on("change",function(e){$switch=e.target["value"]==="0"?false:true;n('input[id$="_defaultTeacherPassword"]').attr("disabled",$switch)});n(".infolabel").each(function(){n(this).html(n(this).html()+'  <span data-icon="&#xe012;"/>')});n(".infofeld").on({mouseenter:function(){n(".infobox").toggle();n(".infobox").children("p").html(n(this).siblings(".infotext").html());n(".infobox").css("left",n(t).width()/2-200);n(".infobox").css("top",n(e).height()/4)},mouseleave:function(){n(".infobox").toggle()}});n(t).ready(function(){if(n("#lockAt_value").val()!==""&&typeof n("#lockAt_value").val()==="string"){$value=n("#lockAt_value").val();$arr=$value.split(" ");n("#date_lockAt").val($arr[0]);n("#time_lockAt").val($arr[1])}if(r()){n(".view").children().each(function(){n(this).attr("src",path+"/img/search.svg")});n(".update").children().each(function(){n(this).attr("src",path+"/img/pencil.svg")});n(".delete").children().each(function(){n(this).attr("src",path+"/img/remove.svg")})}});n("#User_role").on("change",function(e){if(e.val>1){n("#groups-select").select2("enable",true)}else{n("#groups-select").select2("enable",false);n("#groups-select").select2("val","")}});var o=0;n(".add-child-tan").on("click",function(){o++;$div=n(".customChild:first").clone();n($div).children().each(function(){$input=n(this).find("input");$select=false;if($input.hasClass("select2-focusser")){$input=n(this).find("select");$select=true}if($input.length!==0){n($input).attr("name",n($input).attr("name").replace(/\d/,o));n($input).attr("id",n($input).attr("id").replace(/\d/,o));n($input).val("")}if($select){n($input).attr("tabindex","");n($input).attr("class","");n(this).children(".nine").html($input)}});n(".customChild:last").after(n($div));n($div).find("select").select2()})})(this,document,jQuery)